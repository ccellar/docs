"use strict";(self.webpackChunkevcc_docs=self.webpackChunkevcc_docs||[]).push([[9576],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return u}});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=a.createContext({}),s=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=s(e.components);return a.createElement(c.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=s(t),u=r,v=p["".concat(c,".").concat(u)]||p[u]||m[u]||i;return t?a.createElement(v,o(o({ref:n},d),{},{components:t})):a.createElement(v,o({ref:n},d))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=p;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=t[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},58215:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(67294);function r(e){var n=e.children,t=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:t,className:r},n)}},9877:function(e,n,t){t.d(n,{Z:function(){return d}});var a=t(87462),r=t(67294),i=t(72389),o=t(5979),l=t(86010),c="tabItem_LplD";function s(e){var n,t,i,s=e.lazy,d=e.block,m=e.defaultValue,p=e.values,u=e.groupId,v=e.className,k=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=p?p:k.map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes}})),g=(0,o.lx)(h,(function(e,n){return e.value===n.value}));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var N=null===m?m:null!=(n=null!=m?m:null==(t=k.find((function(e){return e.props.default})))?void 0:t.props.value)?n:null==(i=k[0])?void 0:i.props.value;if(null!==N&&!h.some((function(e){return e.value===N})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+N+'" but none of its children has the corresponding value. Available values are: '+h.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var f=(0,o.UB)(),b=f.tabGroupChoices,w=f.setTabGroupChoices,y=(0,r.useState)(N),z=y[0],x=y[1],M=[],D=(0,o.o5)().blockElementScrollPositionUntilNextRender;if(null!=u){var C=b[u];null!=C&&C!==z&&h.some((function(e){return e.value===C}))&&x(C)}var T=function(e){var n=e.currentTarget,t=M.indexOf(n),a=h[t].value;a!==z&&(D(n),x(a),null!=u&&w(u,a))},E=function(e){var n,t=null;switch(e.key){case"ArrowRight":var a=M.indexOf(e.currentTarget)+1;t=M[a]||M[0];break;case"ArrowLeft":var r=M.indexOf(e.currentTarget)-1;t=M[r]||M[M.length-1]}null==(n=t)||n.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":d},v)},h.map((function(e){var n=e.value,t=e.label,i=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:z===n?0:-1,"aria-selected":z===n,key:n,ref:function(e){return M.push(e)},onKeyDown:E,onFocus:T,onClick:T},i,{className:(0,l.Z)("tabs__item",c,null==i?void 0:i.className,{"tabs__item--active":z===n})}),null!=t?t:n)}))),s?(0,r.cloneElement)(k.filter((function(e){return e.props.value===z}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},k.map((function(e,n){return(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==z})}))))}function d(e){var n=(0,i.Z)();return r.createElement(s,(0,a.Z)({key:String(n)},e))}},79987:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return d},default:function(){return k},frontMatter:function(){return s},metadata:function(){return m},toc:function(){return u}});var a=t(87462),r=t(63366),i=(t(67294),t(3905)),o=t(9877),l=t(58215),c=["components"],s={sidebar_position:4},d="Docker, Synology",m={unversionedId:"installation/docker",id:"installation/docker",title:"Docker, Synology",description:"evcc kann auch als Docker Image installiert werden.",source:"@site/docs/installation/docker.mdx",sourceDirName:"installation",slug:"/installation/docker",permalink:"/docs/installation/docker",editUrl:"https://github.com/evcc-io/docs/tree/main/docs/installation/docker.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"macOS",permalink:"/docs/installation/macos"},next:{title:"Manuell (inkl. Windows)",permalink:"/docs/installation/manual"}},p={},u=[{value:"Konfiguration",id:"konfiguration",level:2},{value:"Docker Installation",id:"docker-installation",level:2},{value:"Manuell",id:"manuell",level:3},{value:"Mit docker-compose",id:"mit-docker-compose",level:3},{value:"Testen",id:"testen",level:2},{value:"Aktualisierung",id:"aktualisierung",level:2}],v={toc:u};function k(e){var n=e.components,t=(0,r.Z)(e,c);return(0,i.kt)("wrapper",(0,a.Z)({},v,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"docker-synology"},"Docker, Synology"),(0,i.kt)("p",null,"evcc kann auch als Docker Image installiert werden."),(0,i.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Die Verwendung von Docker erfordert fortgeschrittene System (Linux, macOS, Docker) Kenntnisse!"))),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Momentan werden nur die CPU Architekturen AMD64, armv6 und arm64 in Docker Images unterst\xfctzt!"),(0,i.kt)("p",{parentName:"div"},"Diese Dokumentation ist f\xfcr Docker und Synology. Bei Verwendung anderer System k\xf6nnen sich Details unterscheiden."))),(0,i.kt)("h2",{id:"konfiguration"},"Konfiguration"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Es wird eine ",(0,i.kt)("strong",{parentName:"p"},"funktionierende")," evcc Konfiguration ben\xf6tigt. F\xfcr dazu die Schritte auf der folgende Systeme durch:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"linux"},"Debian, Ubuntu, Raspberry Pi")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"macos"},"macOS")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"manual"},"Manuell (inkl. Windows)"))),(0,i.kt)("div",{parentName:"li",className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"wir empfehlen das wenn m\xf6glich auf dem gleichen System durchzuf\xfchren auf welchem ",(0,i.kt)("strong",{parentName:"p"},"evcc")," sp\xe4ter auch im Docker Container laufen soll")))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Kopiere die damit erzeugte Datei ",(0,i.kt)("inlineCode",{parentName:"p"},"evcc.yaml")," in das Verzeichnis ",(0,i.kt)("inlineCode",{parentName:"p"},"/etc")," auf dem System auf welchem Docker l\xe4uft."))),(0,i.kt)("h2",{id:"docker-installation"},"Docker Installation"),(0,i.kt)("p",null,"Der Docker Container kann entweder manuell \xfcber einen Befehl in der Kommandozeile erstellt werden, oder \xfcber eine ",(0,i.kt)("inlineCode",{parentName:"p"},"docker-compose")," Datei. Wem letzteres nichts sagt, f\xfchrt die Schritte unter ",(0,i.kt)("em",{parentName:"p"},"Manuell")," aus."),(0,i.kt)("h3",{id:"manuell"},"Manuell"),(0,i.kt)("p",null,"Installiere den Docker Container der zu deiner Komponenten-Konstellation passt mit einem der folgenden Befehle:"),(0,i.kt)(o.Z,{groupId:"docker",mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"default",label:"Standard",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker run \\\n-d \\\n--name evcc \\\n-v $(pwd)/evcc.yaml:/etc/evcc.yaml \\\n-p 7070:7070 \\\nandig/evcc:latest\n"))),(0,i.kt)(l.Z,{value:"sma",label:"SMA Ger\xe4te",mdxType:"TabItem"},"F\xfcr die Verwendung des SMA Sunny Home Manger 2.0 muss evcc eine eindeutige Ger\xe4te-ID erstellen. Unter Linux wird ",(0,i.kt)("i",null,"machine-id")," verwendet, und daf\xfcr muss es in den Container gemounted werden:",(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker run \\\n-d \\\n--name evcc \\\n-v $(pwd)/evcc.yaml:/etc/evcc.yaml \\\n-v /etc/machine-id:/etc/machine-id \\\n-v /var/lib/dbus/machine-id:/var/lib/dbus/machine-id \\\n--network host \\\nandig/evcc:latest\n"))),(0,i.kt)(l.Z,{value:"udp",label:"UDP Ger\xe4te (z.b. KEBA)",mdxType:"TabItem"},"Falls ein Messger\xe4t oder eine Wallbox verwendet wird, welches UDP ben\xf6tigt wie z.b. KEBA, stelle sicher dass der Docker Container auc hdie UDP Nachrichten auf den entsprechenden Ports empfangen kann (",(0,i.kt)("i",null,":7090")," for KEBA):",(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker run \\\n-d \\\n--name evcc \\\n-v $(pwd)/evcc.yaml:/etc/evcc.yaml \\\n-p 7070:7070 \\\n-p 7090:7090/udp \\\nandig/evcc:latest\n")))),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Mit ",(0,i.kt)("inlineCode",{parentName:"p"},"andig/evcc:latest")," bekommt man die jeweils aktuelle Version. (Empfohlen)",(0,i.kt)("br",{parentName:"p"}),"\n","Mit ",(0,i.kt)("inlineCode",{parentName:"p"},"andig/evcc:nightly")," bekommt man einen t\xe4glich aktualisierten Build, der nicht so gut getestet sein kann."))),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Unter Linux ist es evtl. notwendig den Befehl mit ",(0,i.kt)("inlineCode",{parentName:"p"},"sudo")," zu beginnen!"))),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Durch die ",(0,i.kt)("inlineCode",{parentName:"p"},"-d"),"-Option wird der evcc Container beim Stoppen automatisch gel\xf6scht und muss danach durch einen der ",(0,i.kt)("inlineCode",{parentName:"p"},"docker run ...")," Befehle oben wieder angelegt/gestartet werden."))),(0,i.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Mounte nicht das lokale Verzeichnis ",(0,i.kt)("inlineCode",{parentName:"p"},"/etc")," als Volume in Docker!"))),(0,i.kt)("h3",{id:"mit-docker-compose"},"Mit ",(0,i.kt)("a",{parentName:"h3",href:"https://docs.docker.com/compose"},"docker-compose")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose"},"docker-compose")," hat einige Vorteile gegen\xfcber der direkten Ausf\xfchrung in der Kommandozeile, z.B. falls man weitere Programme wie Traefik in Verbindung mit evcc nutzen m\xf6chte.",(0,i.kt)("br",{parentName:"p"}),"\n","Im aktiven Verzeichnis legt man dazu einfach eine Konfigurationsdatei mit dem Namen ",(0,i.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," an.",(0,i.kt)("br",{parentName:"p"}),"\n","Entsprechend der passenden Komponenten-Konstellation kopiert man eine der folgenden Konfigurationen in die ",(0,i.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," und speichert diese ab:"),(0,i.kt)(o.Z,{groupId:"docker",mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"default",label:"Standard",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'version: "3"\nservices:\n  evcc:\n    command:\n      - evcc\n    container_name: evcc\n    entrypoint:\n      - /app/entrypoint.sh\n    environment:\n      - PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n      - TZ=Europe/Berlin\n    image: andig/evcc:latest\n    ipc: private\n    logging:\n      driver: json-file\n      options: {}\n    ports:\n      - 7070:7070/tcp\n    volumes:\n      - /etc/evcc.yaml:/etc/evcc.yaml\n    restart: unless-stopped\n    working_dir: /app\nnetworks: {}\n'))),(0,i.kt)(l.Z,{value:"sma",label:"SMA Ger\xe4te",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'version: "3"\nservices:\n  evcc:\n    command:\n      - evcc\n    container_name: evcc\n    entrypoint:\n      - /app/entrypoint.sh\n    environment:\n      - PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n      - TZ=Europe/Berlin\n    image: andig/evcc:latest\n    ipc: private\n    logging:\n      driver: json-file\n      options: {}\n    network_mode: host\n    volumes:\n      - /etc/evcc.yaml:/etc/evcc.yaml\n      - /etc/machine-id:/etc/machine-id\n      - /var/lib/dbus/machine-id:/var/lib/dbus/machine-id\n    restart: unless-stopped\n    working_dir: /app\nnetworks: {}\n'))),(0,i.kt)(l.Z,{value:"udp",label:"UDP Ger\xe4te (z.b. KEBA)",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'version: "3"\nservices:\n  evcc:\n    command:\n      - evcc\n    container_name: evcc\n    entrypoint:\n      - /app/entrypoint.sh\n    environment:\n      - PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n      - TZ=Europe/Berlin\n    image: andig/evcc:latest\n    ipc: private\n    logging:\n      driver: json-file\n      options: {}\n    ports:\n      - 7070:7070/tcp\n      - 7090:7090/udp\n    volumes:\n      - /etc/evcc.yaml:/etc/evcc.yaml\n    restart: unless-stopped\n    working_dir: /app\nnetworks: {}\n')))),(0,i.kt)("p",null,"Starte den Container mit:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker-compose up -d\n")),(0,i.kt)("h2",{id:"testen"},"Testen"),(0,i.kt)("p",null,"Pr\xfcfe die Docker Installation"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Zeige die laufenden docker Container an:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker ps -a\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Pr\xfcfe die log Ausgaben des evcc Containers:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker logs evcc\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Pr\xfcfe die evcc Meter-Konfiguration des evcc Containers:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker exec evcc evcc -l debug meter\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Pr\xfcfe die evcc Charger-Konfiguration des evcc Containers:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker exec evcc evcc -l debug charger\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Pr\xfcfe die evcc Vehicle-Konfiguration des evcc Containers:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker exec evcc evcc -l debug vehicle\n")))),(0,i.kt)("p",null,"\xd6ffne einen Browser und gibt die folgende URL ein: ",(0,i.kt)("inlineCode",{parentName:"p"},"http://127.0.0.1:7070")),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Ersetze ",(0,i.kt)("inlineCode",{parentName:"p"},"127.0.0.1")," mit der IP Adresse oder dem Hostnamen des Computers, falls der Browser nicht auf dem gleichen Computer ge\xf6ffnet wurde."))),(0,i.kt)("h2",{id:"aktualisierung"},"Aktualisierung"),(0,i.kt)("p",null,"Um auf eine neue Version von evcc zu aktualisieren, f\xfchre folgende Schritte durch:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\xd6ffne ein Terminal/Eingabeaufforderung")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Aktualisiere auf das neuste evcc Image:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker pull andig/evcc:latest\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Stoppe den evcc Container:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker stop evcc\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"L\xf6sche den evcc Container:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker rm evcc\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Starte den evcc Container mit dem aktualiserten Image:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo docker-compose up -d\n")))))}k.isMDXComponent=!0}}]);